# OwnerBind 物主绑定模块配置
# 物品绑定后禁止转手，自动绑定给首次操作的玩家

# 调试模式
debug: false

# ====================================
# 绑定识别方式
# ====================================
# 物品需要满足以下任一条件才会被识别为可绑定物品
bind-detection:
  # Lore 识别 - 通过物品描述识别可绑定物品
  lore:
    # 是否启用 Lore 识别
    enabled: true
    # 可绑定物品的 Lore 特征 (包含任意一个即可)
    # 支持传统颜色代码 (&7) 和 MiniMessage 格式 (<gray>)
    patterns:
      - "&7⛓ 不可转手"
      - "&c✘ 未绑定"
  
  # NBT 识别 - 通过 NBT 标记识别可绑定物品
  nbt:
    # 是否启用 NBT 识别
    enabled: true
    # 自定义 NBT 键列表 (包含任意一个即可)
    # 默认会检查 dreamrealms:ownerbind_bindable (Boolean: true)
    # 
    # 格式说明:
    # - 仅键名: "namespace:key" - 只检查键是否存在
    # - 键值对: "namespace:key=value" - 检查键的值是否匹配
    # 
    # 支持的值类型: 字符串、整数、浮点数、布尔值
    # 
    # 示例:
    # - "divinity:item_module"           # 只要有这个键就匹配
    # - "divinity:item_module=gems"      # 字符串匹配
    # - "divinity:item_level=10"         # 整数匹配
    # - "myplugin:rate=0.5"              # 浮点数匹配
    # - "myplugin:bindable=true"         # 布尔值匹配
    custom-keys:
      # - "divinity:item_module=gems"

# ====================================
# Lore 配置
# ====================================
lore:
  # 是否启用绑定后修改 Lore
  # 关闭后只添加 NBT，不修改 Lore 显示
  # 注意: 关闭此选项后 repair-mode 将无效
  enabled: true
  # 绑定后显示的 Lore (替换原有的可绑定 Lore)
  # 占位符: %player% - 绑定玩家名
  bound: "&7⛓ 已绑定: &f%player%"

# ====================================
# 功能开关
# ====================================

# 阻止丢出绑定物品
# 开启后，玩家无法通过任何方式丢出自己的绑定物品
# 包括 Q 键丢出和从背包拖出
anti-drop: false

# 阻止从容器中拿取他人绑定物品
# 开启后，非物主无法从箱子等容器中拿取绑定物品
# 关闭后，拿取时物品会掉落在地上
# 注意: 建议保持开启，关闭可能导致 GUI 菜单中的绑定物品被拿出
anti-container-pickup: true

# 修复模式 - 当 NBT 和 Lore 不一致时自动修复
# 例如: 物品有绑定 NBT 但没有绑定 Lore，会自动添加 Lore
repair-mode: true

# 非物主处理方式
# 当非物主尝试使用绑定物品时的处理方式
# DROP - 丢出物品到地上
# DESTROY - 销毁物品
non-owner-action: DROP

# ====================================
# 死亡掉落处理
# ====================================
# 玩家死亡时绑定物品的处理方式
# DEFAULT - 不处理，按世界原有规则
# KEEP - 保留在背包中 (死亡不掉落)
death-drop:
  # 默认处理方式 (未配置的世界使用此设置)
  default: DEFAULT
  # 按世界配置 (世界名: 处理方式)
  worlds:
    # world: KEEP

# ====================================
# 插件挂钩
# ====================================
hooks:
  # SweetMail 邮件归还
  # 当非物主拾取/操作绑定物品时，通过邮件归还给物主
  sweetmail:
    # 是否启用邮件归还
    enabled: false
    # 邮件发送者类型
    # SYSTEM - 系统发送 (使用下方 sender-name)
    # PLAYER - 捡到物品的玩家发送
    sender-type: SYSTEM
    # 邮件发送者名称 (仅 sender-type 为 SYSTEM 时生效)
    sender-name: "系统"
    # 邮件图标 (Material 名称，或 ItemsAdder/CraftEngine 物品ID)
    icon: "CHEST"
    # 邮件标题
    title: "物品归还"
    # 邮件内容 (支持多行)
    # 占位符: %player% - 拾取者名称, %owner% - 物品主人名称
    content:
      - "&7玩家 &e%player% &7拾取了你的绑定物品"
      - "&7系统已自动归还给你"
      - ""
      - "&8请注意保管好你的物品"
    # 邮件过期天数 (超过此天数未领取将被删除)
    # 设置为 0 表示永不过期
    outdate-days: 30
  
  # GlobalMarketPlus - 禁止上架绑定物品
  # 阻止玩家将绑定物品上架到全球市场
  globalmarketplus:
    enabled: false
  
  # zAuctionHouse - 禁止上架绑定物品
  # 阻止玩家将绑定物品上架到拍卖行
  zauctionhouse:
    enabled: false

  # QuickShop-Hikari - 禁止创建绑定物品商店
  # 阻止玩家使用绑定物品创建箱子商店
  quickshop:
    enabled: false
